Design and Function

Maps
====

1. Three arrays of objects - map_initial, and map_save (explored area), and map_in_play (current in memory copy).
	Map_initial and map_save are both reflected in the files mapname.map and mapname.save

2. Map_in_play is generated:
	a. load the user-modified "map_save" array of "room" objects from mapname.save
	b. load the non-changing "map_initial" array of "room" objects from mapname.map
	c. For each object in "map_save", if "has_been_occupied" value is true copy the tuple to
		to the "map_in_play" final array, else read the location value and load tuple with
		identical location value from "map_initial" into "map_in_play".

3. Map_in_play is updated:
	a. mark tuple in map_in_play at player location value "is_occupied" value true
	b. if event_on_occupy is not 0, play_event(event_on_occupy)
	c. mark tuple in map_in_play at player location value "has_been_occupied" to true

Values in each "tile" tuple:
	Location(x,y)
	Can_be_occupied(t/f)
    Is_occupied(t/f)
	Has_been_occupied(t/f)
	Event_on_occupy(event_number)
	What_is_(north/south/east/west)
		exit, wall, door, secret door, grate (triggered), event

Item drops:
    Item drops will be level-based, rather than monster-based.  Thus, each level of each tower will have a static drop list and all mobs on that level have the potential to drop items from that list.


Items
=====

Item properties:
    Description - Long description (if you investigate the item)
    Name - Long name (if you investigate the item)
    Short_name - Displayed in the character's inventory listing
Notes:
    Once acquired, items occupy an inventory slot until they are used or destroyed.  Items can be deposited in town at the appropriate shop (see "bank" below).
    When "dropped", an item is destroyed and gone forever.
    All items can be used at any time, but only have an effect under specific conditions.
    Items such as potions and scrolls are single-use "portable spells" that can be used by any character class or race. When used, they are marked as "broken" and are unusable. In classic Wizardry, there is no way to repair these items - they just take up space until they are dropped (destroyed).
    Should it be possible to "repair" "broken" items if certain conditions are met?

Equipment
=========
Weapons, Armor, Accessories are all "equipment" but are still instances of the "Item" class.  Equipment will have a different initialization method (__init__) which requires the appropriate input (listed below).

Equipment properties:
    Is_equippable(t/f)
    Is_equipped(t/f)
    Min_dmg(int)
    Max_dmg(int)
    Hit_multiplier(float)
    Equip_effect([]) - list of index numbers/keys. There will be a dictionary of "spell" effects, and this list contains a key for each effect the item needs to have when equipped.
    Use_effect(int) - key related to the spell dictionary, for waht effect the item has when used as an item


Bank
====
The "Bank" is an in-town shop which allows the player to store items and gold outside of a character's inventory.
    The bank will not store anything for the player initially. The player will purchase an initial set of slots, and will need to purchase more slots as required.
    Unlike the characters' inventories, gold will not be "weightless" but will "stack" and require a slot to be stored in.  5k per slot.
    Slots can be purchased in batches of 5 for 5k gold.
    Each item will take one slot.

Tavern
======
Where the party is managed.
    Add/remove character from active party
    Divvy total party gold among party members

Inn
===
Where characters recover hp/magic and gain levels.
Tiered value of rooms:
    Free - no hp recovery (only magic)
    10g/day - 1hp/day
    50g/day - 10hp/day
    100g/day - 20hp/day
    500g/day - 50hp/day

Gaining levels:
    once necessary xp is reached by a character, they will "level up" when staying at the inn.
    a level will grant a random selection of stat increases/reductions.
    typically 1-4 stats will increase and hp will be gained
    occasionally a stat will decrease
    increase/decrease happens in single increments

Market
======
Item management:
    Buy basic items/equipment
    Sell items/equipment
    Identify unknown items
    Remove cursed items that have been equipped

Temple
======
Manage status ailments:
    Cure characters of status effects for a fee (status ranking based)
    Ressurect characters for a fee (level- and condition-based)
        If a char is "dead", the ressurection fee is (level * 150)gold
        If a char is "ashes" (failed ressurection), the fee is (level * 200)gold
Notes:
    If "dead" or "ashes" characters are brought to town from a tower, they are automatically taken to the temple.
    Characters stored at the temple can be added back to the party regardless of their status.

Training Grounds
================
Character management:
    Create
    Delete/destroy
    Change name
    Change class
    

General
=======
    Party Conditions:
        In battle
        Engaged with NPC
        In camp
        On event trigger
        Facing direction x
        None of the above (implied)

Monsters
========
Notes:
    Monsters are encountered randomly at every level of every tower.
    Monsters are encountered in groups
    Just like the player party, monster parties have "front" and "back" rows, with the same effects.
    Monsters may "advance" to get to the front of the party.
    Unlike the player party, multiple monsters of the same type may occupy a single party "slot". Thus, 5 "samurai" could be in slot 1 while 3 "mage" could be in slot 2.
    The number of available slots in a monster party is a function of the tower level the player party is on. Thus, level 1 would might be restricted to 1-2 slots, but level 3 might have monster groups of 3-4 slots, and some levels might have monster parties with a full 6 slots.
    Similarly, the number of monsters of the same type which can occupy a single slot increases with the tower level being played.
    Monster types are pre-defined, and groups are semi-randomly built from level-appropriate monster types.
    Encounter rates increase slightly as a function of tower level.


TODO:
How do monster spellcasters work?
How do event driven encounter work?
